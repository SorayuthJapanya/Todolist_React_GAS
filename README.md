# To-Do List (TodoApp)

A small React + Vite to-do list application that demonstrates basic CRUD (Create, Read, Update, Delete) operations against a backend API. The UI uses Tailwind CSS for styling, React Query for data fetching/caching, and a few lightweight libraries for icons, toast notifications and animations.


## Features

- Add tasks
- List tasks
- Edit tasks (modal)
- Delete tasks
- Client-side optimistic UI handled with React Query
- Toast notifications for user feedback


## Tech stack

- Vite + React (TypeScript)
- Tailwind CSS
- @tanstack/react-query for data fetching and cache
- react-hot-toast for notifications
- framer-motion for simple animations
- axios / fetch (native) for network requests


## Quick Start

Prerequisites:
- Node.js (recommended >= 18)
- pnpm (optional, repo contains pnpm-lock.yaml) — npm or yarn work too

1. Install dependencies

   pnpm install

   or

   npm install

2. Create environment file

   Create a `.env` (or `.env.local`) file in the project root with the following variable:

   VITE_BASE_URL="https://your-backend.example.com/webapp"

   Note: This value should point to the backend endpoint this frontend talks to. See "API contract" below for details.

3. Run the dev server

   pnpm dev

   or

   npm run dev

4. Build for production

   pnpm build

   or

   npm run build

5. Preview the production build

   pnpm preview

   or

   npm run preview


## Environment variable

- VITE_BASE_URL: The base URL of the backend API the app will call. The frontend expects the backend to accept POST requests for create/update/delete and GET-style query parameters for reads (see API contract).


## API contract (what the frontend expects)

This frontend calls one backend endpoint defined by `VITE_BASE_URL`.

Read (all):
- GET: `${VITE_BASE_URL}?action=getAll`
- Response example: `{ allData: [{ id: string, content: string, created_at: string, update_at: string }, ...] }`

Read (by id):
- GET: `${VITE_BASE_URL}?action=getById&id=<taskId>`
- Response example: `{ todo: [{ id: string, content: string, created_at: string, update_at: string }] }`

Create / Update / Delete:
- POST to `VITE_BASE_URL` with JSON body generated by the frontend. The current helper wraps requests like:
  {
    method: 'POST' | 'PUT' | 'DELETE',
    // and for creates/updates a body with `content` or `{ id, content }` respectively
  }

The server must accept JSON and return appropriate status codes and JSON responses for the read endpoints. Adjust backend code if your server expects a different payload shape.


## Development notes & gotchas

- The frontend's `src/api/todoApi.ts` currently uses `mode: "no-cors"` for some fetch requests. When `no-cors` is used, the browser will severely limit the ability to read the response (often resulting in an empty response object). For local development you should either:
  - Remove `mode: "no-cors"` and enable CORS on the backend, or
  - Keep `no-cors` and accept limited response data (not recommended).

- The app expects the backend to expose a JSON API. If you are using a Google Apps Script Web App as a backend, ensure it returns JSON and is deployed with proper access and CORS handling.


## Project structure (key files)

- `index.html` - app entry HTML
- `src/main.tsx` - React entry, QueryClient provider and router
- `src/App.tsx` - Top-level UI container
- `src/components/AddTodoForm.tsx` - Form to add todos
- `src/components/TodoLists.tsx` - List of todos and modal trigger
- `src/components/ModalEditTodo.tsx` - Modal to edit a single todo
- `src/api/todoApi.ts` - API helpers used by React Query
- `src/types/index.ts` - TypeScript interfaces
- `vite.config.ts` - Vite configuration
- `package.json` - Project scripts and dependencies


## Scripts

- `pnpm dev` / `npm run dev` - Start Vite dev server
- `pnpm build` / `npm run build` - Build production bundle
- `pnpm preview` / `npm run preview` - Preview production build
- `pnpm lint` / `npm run lint` - Run ESLint


## Troubleshooting

- If fetch requests fail with CORS errors, enable CORS on your backend or adjust requests for local development (see "Development notes").
- If the app shows an empty list but your backend has data, check the exact response shape returned by your backend and update `getAllTodo` parsing accordingly.


## Contributing

Contributions are welcome. Open issues or PRs for bug fixes and improvements.


## License

MIT — replace with your preferred license.


---

If you want, I can also:
- Add a sample `.env.example` file
- Provide a small Google Apps Script server example that matches the expected API shape
- Remove `mode: "no-cors"` and adjust the API helper to use a clearer request/response pattern
